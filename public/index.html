<!DOCTYPE html>
<html>
<head>
    <title></title>
    <link href="style.css" rel="stylesheet">
</head>
<body>
    <div id="app" v-if="page">
        <!-- This is my Vue app -->
        <!-- @ = v-on:, @click = v-on:click -->
        <!-- : = v-bind:, :style = v-bind:style -->
        



        <header>
            <h1>Check In</h1>
            <button v-if="page == 'formLabCheckin' || page == 'formLabCheckin2'" @click="buttonSwitchPageToSearch">Search Logs</button>
            <button v-if="page == 'formLabLogSearch'" @click="buttonSwitchPageBack">Back to Check In</button>
        </header>
        <main>
            <div v-if="!logIsValid" class="errorMessage">
                <div>
                    <p v-for="error in errorMessages"> {{ error }} </p>
                </div>
                <button @click="buttonErrorClose">Close</button>
            </div>
            <div v-if="page == 'formLabCheckin'" class="formLabCheckin">
                <label>D Number</label>
                <input v-model="inputLog.studentID" type="text" placeholder="d00######">

                <button @click="buttonCheckIn">Check In</button>
                <button @click="buttonCheckOut">Check Out</button>
            </div>
            
            <div v-if="page == 'formLabCheckin2'" class="formLabCheckin2">
                <label>Class</label>
                <label>Type of Help</label>
                <input v-model="inputLog.class" type="text" list="classes">
                    
                <input v-model="inputLog.typeHelp" type="text" list="typeHelps">

                <button @click="buttonConfirm">Confirm</button>
                <button @click="buttonCancel">Cancel</button>
            </div>

            <div v-if="page == 'formLabLogSearch'" class="formLabLogSearch">
                <h2>Search Logs</h2>

                <label>Time</label>
                <label>Class</label>
                <input v-model="searchParams.date" type="text" list="times">
                <input v-model="searchParams.class" type="text" list="classes">

                <label>Type of Help</label>
                <!-- <label>Major</label> --> <br>
                <input v-model="searchParams.typeHelp" type="text" list="typeHelps">
                    <!-- <input type="text" list="majors"> 
                    <datalist id="majors">
                        <option>Computer Science</option>
                        <option>Software Engineering</option>
                        <option>Information Technology</option>
                    </datalist> --> <br> <!-- keeps grid working -->
                
                <button @click="buttonSearch">Search</button>
                <button @click="buttonSearchClear">Clear Search</button>
            </div>

            <ul id="log" v-if="page != 'formSearchAuth'">
                <li v-if="page == 'formLabLogSearch'" id="data">
                     <h2>Found {{ logs.length }} {{ (logs.length == 1)? "log" : "logs" }}.<!-- out of {{  }} total. --></h2> 
                </li>
                <li id="header">
                    <p>d-Number</p>
                    <p>Time In</p>
                    <p>Time Out</p>
                    <p>Class</p>
                    <p>Type of Help</p>
                </li>
                <li v-for="log in logs">
                    <p>{{ log.studentID }}</p>
                    <p>{{ log.timeIn.toLocaleTimeString() }}</p>
                    <p v-if="log.timeOut">{{ log.timeOut.toLocaleTimeString() }}</p>
                    <p v-else>-</p>
                    <p>{{ log.class }}</p>
                    <p>{{ log.typeHelp }}</p>
                </li>
            </ul>

            <div v-if="page == 'formSearchAuth'" id="formSearchAuth">
                <h2>Enter password to search logs</h2>
                <input v-model="passwordInput" type="password">
                <button @click="buttonAuthenticate">Submit</button>
                <button @click="buttonAuthenticateCancel">Cancel</button>
            </div>

        </main>
        <footer>

        </footer>

        <datalist id="classes">
            <option v-for="each in classes">{{ each }}</option>
        </datalist>
    
        <datalist id="typeHelps">
            <option v-for="each in typeHelps">{{ each }}</option>
        </datalist>
    
        <datalist id="times">
            <option v-for="each in times">{{ each }}</option>
        </datalist>
    
    </div>

    <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
    <script src="app.js"></script>
</body>
</html>